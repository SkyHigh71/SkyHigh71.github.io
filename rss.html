<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>sakana</title>
        <link>http://skyhigh71.github.io/</link>
        <description>short short memo</description>
        <language>en-us</language>
        <pubDate>Wed, 04 Sep 2013 00:00:00 +0900</pubDate>
        
        <item>
            <link>http://skyhigh71.github.io/2013/09/04/compare_files_recursively.html</link>
            <guid>http://skyhigh71.github.io/2013/09/04/compare_files_recursively.html</guid>
            <title><![CDATA[compare files recursively]]></title>
            <description><![CDATA[<div class="section" id="compare-files-recursively">
<h1>compare files recursively</h1>
<p>I have to confess that I’m so ignorant...</p>
<p>You can compare all the files under 2 directories recursively by diff command with -r option.</p>
<p>For example,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>diff -r &lt;DIR_A&gt; &lt;DIR_B&gt;
</pre></div>
</div>
<p>So easy.
sigh...</p>
</div>]]></description>
             <pubDate>Wed, 04 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/09/04/distribute_requests_by_url_on_apache.html</link>
            <guid>http://skyhigh71.github.io/2013/09/04/distribute_requests_by_url_on_apache.html</guid>
            <title><![CDATA[distribute requests by URL on apache]]></title>
            <description><![CDATA[<div class="section" id="distribute-requests-by-url-on-apache">
<h1>distribute requests by URL on apache</h1>
<div class="section" id="what-s-in-your-mind">
<h2>what’s in your mind?</h2>
<p>Suppose that you have contents built on sphinx.
And you have already deployed it on apache instance.</p>
<p>Suppose that you would like to deploy another content.
That is, you started blogging and would like to publish it on identical instance of apache.</p>
<p>You can configure apache instance so that it distributes content by given URL.</p>
</div>
<div class="section" id="let-s-get-started">
<h2>Let’s get started</h2>
<p>You can create symbolic link to target directory under documentation root directory though, it seems to be quite raw.
You can make use of “LocationMatch” directive.</p>
<p>Create configuration file, e.g. tinker.conf under /etc/httpd/conf.d directory so that httpd can evaluate request.</p>
<div class="highlight-apache"><div class="highlight"><pre><span class="nb">Alias</span> <span class="sx">/blog</span> &lt;TINKER_ROOT&gt;/blog/html/
<span class="nt">&lt;LocationMatch</span> <span class="s">&quot;/blog/.*&quot;</span><span class="nt">&gt;</span>
    <span class="nb">AuthType</span> Basic
    <span class="nb">AuthName</span> <span class="s2">&quot;Open Sesame!&quot;</span>
    <span class="nb">AuthUserFile</span> &lt;PATH_TO_PASS&gt;/htpasswd
    <span class="nb">Require</span> <span class="k">user</span> lupin
<span class="nt">&lt;/LocationMatch&gt;</span>
</pre></div>
</div>
<p>All request for &lt;SERVER&gt;/blog/* will be routed to contents under &lt;TINKER_ROOT&gt;/blog/html directory.
Replace &lt;TINKER_ROOT&gt; and &lt;PATH_TO_PASS&gt; as appropriate to meet your environment.</p>
<p>In this sample, we apply basic authentication for access to this content.
And user “lupin” can view content if authentication succeeds.</p>
<p>Create password file for lupin by htpasswd command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>htpasswd -c htpasswd lupin
</pre></div>
</div>
<p>If you would like to allow access for other users, then add accounts to user list.
You can append user names by separating them with white space.</p>
<div class="highlight-apache"><div class="highlight"><pre><span class="nb">Require</span> <span class="k">user</span> lupin fujiko jigen
</pre></div>
</div>
<p>And restart httpd so as to reflect changes above.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo service httpd restart
</pre></div>
</div>
<p><strong>Enjoy!</strong></p>
</div>
</div>]]></description>
             <pubDate>Wed, 04 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/09/02/switching_from_https_to_ssh.html</link>
            <guid>http://skyhigh71.github.io/2013/09/02/switching_from_https_to_ssh.html</guid>
            <title><![CDATA[switching from HTTPS to SSH]]></title>
            <description><![CDATA[<div class="section" id="switching-from-https-to-ssh">
<h1>switching from HTTPS to SSH</h1>
<p>Communication protocol for github can either be SSH or HTTPS.
You can configure protocol to SSH so that ssh key shall be used for authentication.
And you do not have to enter password every time you communicate with github.</p>
<p>URL, which includes protocol, is specified in .git/config file.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[remote &quot;origin&quot;]</span>
    <span class="na">url</span> <span class="o">=</span> <span class="s">https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span>
</pre></div>
</div>
<p>So as to change URL, use “git remote set-url” command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git remote <span class="nb">set</span>-url origin git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git
</pre></div>
</div>
<p>URL in config file shall be updated as specified in argument abvoe.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[remote &quot;origin&quot;]</span>
    <span class="na">url</span> <span class="o">=</span> <span class="s">git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git</span>
</pre></div>
</div>
<p>Therefore you may be able to configure URL directly by modifying value in config file (not tested though :-)).</p>
</div>]]></description>
             <pubDate>Mon, 02 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/09/01/google_anlytics_in_sphinx.html</link>
            <guid>http://skyhigh71.github.io/2013/09/01/google_anlytics_in_sphinx.html</guid>
            <title><![CDATA[google anlytics in sphinx]]></title>
            <description><![CDATA[<div class="section" id="google-anlytics-in-sphinx">
<h1>google anlytics in sphinx</h1>
<p>If you would like to analyze statics of access to your site built with sphinx, then you can embed google analytics code in it.</p>
<p>Prepare layout.html file under source/_templates directory.
Insert javascript code obtained at google analytics site.</p>
<div class="highlight-html"><div class="highlight"><pre>{% extends &quot;!layout.html&quot; %}

{% block footer %}
{{ super() }}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">){</span>
    <span class="nx">i</span><span class="p">[</span><span class="s1">'GoogleAnalyticsObject'</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">||</span><span class="kd">function</span><span class="p">(){</span>
        <span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">||</span><span class="p">[]).</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span>
    <span class="p">},</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">)</span>
 <span class="p">})(</span><span class="nb">window</span><span class="p">,</span><span class="nb">document</span><span class="p">,</span><span class="s1">'script'</span><span class="p">,</span><span class="s1">'//www.google-analytics.com/analytics.js'</span><span class="p">,</span><span class="s1">'ga'</span><span class="p">);</span>
<span class="nx">ga</span><span class="p">(</span><span class="s1">'create'</span><span class="p">,</span> <span class="s1">'UA-xxxxxxxxx-x'</span><span class="p">,</span> <span class="s1">'&lt;site_name&gt;'</span><span class="p">);</span>
<span class="nx">ga</span><span class="p">(</span><span class="s1">'send'</span><span class="p">,</span> <span class="s1">'pageview'</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock %}
</pre></div>
</div>
<p>And rebuild html and deploy it onto site.</p>
<p>For details, please refer to <a class="reference external" href="http://sphinx-doc.org/faq.html">sphinx FAQ</a>.</p>
</div>]]></description>
             <pubDate>Sun, 01 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/09/01/back_up_files_onto_dropbox.html</link>
            <guid>http://skyhigh71.github.io/2013/09/01/back_up_files_onto_dropbox.html</guid>
            <title><![CDATA[back up files onto dropbox]]></title>
            <description><![CDATA[<div class="section" id="back-up-files-onto-dropbox">
<h1>back up files onto dropbox</h1>
<p>All machine, which includes Hard Disks, are to break some day.
Let’s back up your precious content onto dropbox with encrypted on regular basis.</p>
<p>create backup directory in dropbox.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir ~/Dropbox/backup
</pre></div>
</div>
<p>Prepare backup script kicked by cron on regular interval.
Create directory where backup script resides:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir ~/Documents/cron
</pre></div>
</div>
<p>Deploy following <a class="reference download internal" href="http://skyhigh71.github.io/_downloads/backup.sh"><span class="xref download docutils literal"><span class="pre">backup</span> <span class="pre">script</span></span></a> under cron directory:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/usr/bin/env bash</span>

<span class="c"># we use day of week as file name</span>
<span class="nv">LANG</span><span class="o">=</span>C
<span class="nv">NAME</span><span class="o">=</span><span class="sb">`</span>date <span class="s2">&quot;+%A&quot;</span><span class="sb">`</span>
<span class="c"># please specify password for encryption in case that you encrypt backup file</span>
<span class="nv">PASSWD</span><span class="o">=</span>xxxxxx
<span class="c"># we create backup file under temporary directory on local host</span>
<span class="c"># so as to avoid latency</span>
<span class="nv">TEMP</span><span class="o">=</span>/tmp
<span class="nv">BACKUP_DIR</span><span class="o">=</span>~/Dropbox/backup

<span class="nb">cd</span> ~/Documents
<span class="k">if </span><span class="nb">true</span>
<span class="k">then</span>
<span class="k">    </span>find . -exec zip -P <span class="nv">$PASSWD</span> <span class="nv">$TEMP</span>/<span class="nv">$NAME</span>.zip <span class="o">{}</span> <span class="se">\;</span> 1&gt;/dev/null 2&gt;&amp;1
<span class="k">else</span>
<span class="k">    </span>find . -exec zip <span class="nv">$TEMP</span>/<span class="nv">$NAME</span>.zip <span class="o">{}</span> <span class="se">\;</span> 1&gt;/dev/null 2&gt;&amp;1
<span class="k">fi</span>
mv <span class="nv">$TEMP</span>/<span class="nv">$NAME</span>.zip <span class="nv">$BACKUP_DIR</span>
</pre></div>
</div>
<p>Please be noted that you have to add execution permission for this script.
And test it if it works or not.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bash -xv backup.sh
</pre></div>
</div>
<p>Register cron job to start script on regular basis by “crontab -e”.
With following example, backup script is executed every one hour at *:00.</p>
<div class="highlight-bash"><div class="highlight"><pre>0 * * * * ~/Documents/cron/backup.sh
</pre></div>
</div>
<p>On ubuntu, cron activity is recorded in /var/log/syslog.
Monitor syslog if cron works as expected.</p>
</div>]]></description>
             <pubDate>Sun, 01 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/09/01/try_sphinx_better_theme.html</link>
            <guid>http://skyhigh71.github.io/2013/09/01/try_sphinx_better_theme.html</guid>
            <title><![CDATA[try sphinx better theme]]></title>
            <description><![CDATA[<div class="section" id="try-sphinx-better-theme">
<h1>try sphinx better theme</h1>
<p>Found a <a class="reference external" href="https://github.com/irskep/sphinx-better-theme">new theme</a> for sphinx.</p>
<p><a class="reference external" href="https://sphinx-better-theme.readthedocs.org/en/latest/demos.html">Demo site</a> looks nice &amp; simple.</p>
<p>Let’s apply and see what kind of effect will have on my documentation.</p>
<p>Application procedure is quite simple.
Install sphinx-better-theme package.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install sphinx-better-theme
</pre></div>
</div>
<p>Apply theme by modifying conf.py.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">better</span> <span class="kn">import</span> <span class="n">better_theme_path</span>
<span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">better_theme_path</span><span class="p">]</span>
<span class="n">html_theme</span> <span class="o">=</span> <span class="s">'better'</span>
</pre></div>
</div>
<p>Ok, stay with this theme.</p>
</div>]]></description>
             <pubDate>Sun, 01 Sep 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/31/wiki_on_bitbucket.html</link>
            <guid>http://skyhigh71.github.io/2013/08/31/wiki_on_bitbucket.html</guid>
            <title><![CDATA[memo on bitbucket]]></title>
            <description><![CDATA[<div class="section" id="memo-on-bitbucket">
<h1>memo on bitbucket</h1>
<p>I would like to have place where I can put some static content created by sphinx.
I hereby demonstrate procedure to deploy html files onto bitbucket.</p>
<p>Create a repository under the name, &lt;username&gt;.bitbucket.org.
This repository could either be public or private. And you can select mercurial or git as your tool.
In this scenario, I use hg as my tool.</p>
<p>Create sphinx project to host your content.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir wiki <span class="o">&amp;&amp;</span> <span class="nb">cd </span>wiki
<span class="nv">$ </span>sphinx-quickstart
</pre></div>
</div>
<p>Write up your content and build it as usual.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>make html
</pre></div>
</div>
<p>Copy content from build/html directory.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir publish
<span class="nv">$ </span><span class="nb">cd </span>publish/
<span class="nv">$ </span>rsync -av ../build/html/ .
</pre></div>
</div>
<p>Now the content is ready for upload, so prepare for publication.</p>
<p>Install mercurial if you still do not have one at your hand.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install python-dev
<span class="nv">$ </span>sudo pip install mercurial
<span class="nv">$ </span>which hg
/usr/local/bin/hg
</pre></div>
</div>
<p>OK, now we have hg.</p>
<p>Create .hgrc file under home directory.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[ui]</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">Fist LAST &lt;your_mail_address&gt;</span>
<span class="na">verbose</span> <span class="o">=</span> <span class="s">True</span>
</pre></div>
</div>
<p>Create ssh key for bitbucket.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ssh-keygen

~/.ssh<span class="nv">$ </span>ls id_rsa.bitbucket*
id_rsa.bitbucket  id_rsa.bitbucket.pub
</pre></div>
</div>
<p>Configure ~/.ssh/config file so that newly created ssh key be referenced for bitbucket access.</p>
<div class="highlight-menuconfig"><div class="highlight"><pre>Host bitbucket.org
    HostName        bitbucket.org
    IdentityFile    ~/.ssh/id_rsa.bitbucket.org
    User            hg
</pre></div>
</div>
<p>And deploy your public key onto bitbucket.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xclip -sel clip &lt; id_rsa.bitbucket.pub
</pre></div>
</div>
<p>And place hgrc file under .hg directory of publish directory so that push target shall be specified.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[paths]</span>
<span class="na">default</span><span class="o">=</span><span class="s">ssh://hg@bitbucket.org/&lt;userid&gt;/&lt;userid&gt;.bitbucket.org</span>
</pre></div>
</div>
<p>And push your content onto bitbucket.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>rsync -av ../build/html .
<span class="nv">$ </span>hg add .
<span class="nv">$ </span>hg commit -m <span class="s2">&quot;my first post of mine&quot;</span>
<span class="nv">$ </span>hg push
</pre></div>
</div>
<p>Now you can access your content by <a class="reference external" href="http:">http:/</a>/&lt;userid&gt;.bitbucket.org.</p>
</div>]]></description>
             <pubDate>Sat, 31 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/30/blockdiag_in_tinkerer.html</link>
            <guid>http://skyhigh71.github.io/2013/08/30/blockdiag_in_tinkerer.html</guid>
            <title><![CDATA[chart in blog post]]></title>
            <description><![CDATA[<div class="section" id="chart-in-blog-post">
<h1>chart in blog post</h1>
<p>Same as sphinx, you can make use of blockdiag as extension in tinkerer.
That is, you can draw chart in your blog by blockdiag.`</p>
<p>Here is a quick setup procedure.</p>
<p>First install sphinxcontrib-blockdiag package.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install sphinxcontrib-blockdiag
</pre></div>
</div>
<p>Then add ‘sphinxcontrib.blockdiag’ in the list of extensions in conf.py.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span><span class="s">'tinkerer.ext.blog'</span><span class="p">,</span> <span class="s">'tinkerer.ext.disqus'</span><span class="p">,</span> <span class="s">'sphinxcontrib.blockdiag'</span><span class="p">]</span>
</pre></div>
</div>
<p>You can specify font of your choice used in blockdiag.
Search for path of your font.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">fc</span>-list
</pre></div>
</div>
<p>And specify font paht as value of blockdiag_fontpath.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blockdiag_fontpath</span> <span class="o">=</span> <span class="s">'/usr/share/fonts/truetype/ttf-dejavu/DejaVuSansMono.ttf'</span>
</pre></div>
</div>
<p>Now it’s ready for usage.</p>
<p>For example,</p>
<p class="blockdiag">
<img alt="None" height="120" src="http://skyhigh71.github.io/_images/blockdiag-5e17e9707844be2c89d327c8de892f31f2754539.png" width="832"/>
</p>
</div>]]></description>
             <pubDate>Fri, 30 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/30/prevent_broken_pipe_during_ssh_session.html</link>
            <guid>http://skyhigh71.github.io/2013/08/30/prevent_broken_pipe_during_ssh_session.html</guid>
            <title><![CDATA[prevent broken pipe during ssh session]]></title>
            <description><![CDATA[<div class="section" id="prevent-broken-pipe-during-ssh-session">
<h1>prevent broken pipe during ssh session</h1>
<p>From time to time, you may encounter ssh session lost with following error.</p>
<div class="highlight-bash"><div class="highlight"><pre>Write failed: Broken pipe
</pre></div>
</div>
<p>It means that write() system call failed against File Descriptor for socket of ssh session.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>man -s2 write
...
EPIPE  fd is connected to a pipe or socket whose reading end is closed.  When this  happens  the  writing
       process  will  also  receive  a SIGPIPE signal.  <span class="o">(</span>Thus, the write <span class="k">return </span>value is seen only <span class="k">if </span>the
       program catches, blocks or ignores this signal.<span class="o">)</span>
</pre></div>
</div>
<p>You may be able to avoid this connection lost by keeping connection alive.</p>
<div class="section" id="client">
<h2>client</h2>
<p>You can configure ssh client to send request a response from sshd in the background.
You can set interval with unit in second (~/.ssh/config).</p>
<p>With following configuration sample, requests are sent every 2 minutes.</p>
<div class="highlight-bash"><div class="highlight"><pre>ServerAliveInterval 120
</pre></div>
</div>
<p>For details, please refer to “man ssh_config”.</p>
</div>
<div class="section" id="server">
<h2>server</h2>
<p>Same as client, sshd can be configured to send request on regular basis.
sshd configuraiton file is /etc/ssh/sshd_config.</p>
<div class="highlight-bash"><div class="highlight"><pre>ClientAliveInterval 120
</pre></div>
</div>
<p>For details, please refer to “man sshd_config”.</p>
</div>
</div>]]></description>
             <pubDate>Fri, 30 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/27/http_filter.html</link>
            <guid>http://skyhigh71.github.io/2013/08/27/http_filter.html</guid>
            <title><![CDATA[filter packet based upon URI]]></title>
            <description><![CDATA[<div class="section" id="filter-packet-based-upon-uri">
<h1>filter packet based upon URI</h1>
<p>Wireshark is your good friend.
You can find fun time of examining packets with wireshark.</p>
<p>Sometimes you would like to filter packets and extract packets only for specific URL, say, “www.google.com”. Wireshark provides content filter for HTTP as well.</p>
<p>Specify filter as follows.</p>
<div class="highlight-bash"><div class="highlight"><pre>http contains <span class="s2">&quot;www.google.com&quot;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://www.wireshark.org/docs/man-pages/wireshark-filter.html">filter manual</a> will help you guide through details of filter configuration.</p>
</div>]]></description>
            <category><![CDATA[ wireshark ]]></category>
             <pubDate>Tue, 27 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/26/automatic_yum_update.html</link>
            <guid>http://skyhigh71.github.io/2013/08/26/automatic_yum_update.html</guid>
            <title><![CDATA[automatic yum update]]></title>
            <description><![CDATA[<div class="section" id="automatic-yum-update">
<h1>automatic yum update</h1>
<p>Sometime you would like to configure Scientific Linux to update packages automatically without manual intervention.
You can configure system as you wish and here is a short memo to achieve such.</p>
<div class="section" id="yum-cron">
<h2>yum-cron</h2>
<p>You can configure cron to start yum command on daily basis to check for update.
First install yum-cron command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo yum install yum-cron
</pre></div>
</div>
<p>Installation will place 0yum.cron file under /etc/cron.daily directory.
And cron executes yum-cron on daily basis.</p>
<p>You can control yum-cron’s behavior by modifying configuration file, /etc/sysconfig/yum-cron.
I hereby quote some parameters in which you may be interested.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="c1"># Don't install, just check (valid: yes|no)</span>
<span class="na">CHECK_ONLY</span><span class="o">=</span><span class="s">no</span>

<span class="c1"># Don't install, just check and download (valid: yes|no)</span>
<span class="na">DOWNLOAD_ONLY</span><span class="o">=</span><span class="s">no</span>
</pre></div>
</div>
<p>And start service for now.
And configure system to start yum-cron service upon restart.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>/etc/init.d/yum-cron start
<span class="nv">$ </span>sudo chkconfig yum-cron on
</pre></div>
</div>
</div>
<div class="section" id="history">
<h2>history</h2>
<p>You can check if cron has started or not by referencing /var/log/cron* logs.</p>
<div class="highlight-bash"><div class="highlight"><pre>Aug 26 03:16:01 &lt;hostname&gt; run-parts<span class="o">(</span>/etc/cron.daily<span class="o">)[</span>24221<span class="o">]</span>: starting 0yum.cron
Aug 26 04:07:46 &lt;hostname&gt; run-parts<span class="o">(</span>/etc/cron.daily<span class="o">)[</span>24421<span class="o">]</span>: finished 0yum.cron
</pre></div>
</div>
<p>Log message are yielded in /var/log/yum.log file</p>
<div class="highlight-bash"><div class="highlight"><pre>Aug 09 04:09:11 Updated: nss-softokn-devel-3.14.3-3.el6_4.i686
Aug 09 04:09:12 Updated: nss-devel-3.14.3-4.el6_4.i686
Aug 09 04:09:13 Updated: nss-tools-3.14.3-4.el6_4.i686
Aug 14 03:36:46 Updated: httpd-tools-2.2.15-29.sl6.i686
Aug 14 03:36:48 Updated: httpd-2.2.15-29.sl6.i686
</pre></div>
</div>
<p>as specified in yum’s configuration file, /etc/yum.conf.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[main]</span>
<span class="na">debuglevel</span><span class="o">=</span><span class="s">2</span>
<span class="na">logfile</span><span class="o">=</span><span class="s">/var/log/yum.log</span>
</pre></div>
</div>
<p>Or you can check history by yum history command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo yum <span class="nb">history</span>
Loaded plugins: auto-update-debuginfo, downloadonly, fastestmirror, refresh-packagekit, security
ID     | Login user               | Date and <span class="nb">time</span>    | Action<span class="o">(</span>s<span class="o">)</span>      | Altered
-------------------------------------------------------------------------------
   138 | root &lt;root&gt;              | 2013-08-14 03:36 | Update         |    2
   137 | root &lt;root&gt;              | 2013-08-09 04:09 | Update         |   12
...
</pre></div>
</div>
<p>And You can check more details of update with “yum history &lt;ID&gt;”.</p>
</div>
<div class="section" id="sigh">
<h2>sigh</h2>
<p>Ah...</p>
<p>By default, SL has similar functionality yum-autoupdate, which is enabled and executed on daily basis. So above configuration is duplicate and not necessary.</p>
<p>You can disable yum-autoupdate by configuring /etc/sysconfig/yum-autoupdate file.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="na">ENABLED</span><span class="o">=</span><span class="s">&quot;false&quot;</span>
</pre></div>
</div>
</div>
</div>]]></description>
             <pubDate>Mon, 26 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/25/how_to_play_minecraft_on_ubuntu.html</link>
            <guid>http://skyhigh71.github.io/2013/08/25/how_to_play_minecraft_on_ubuntu.html</guid>
            <title><![CDATA[how to play minecraft on ubuntu]]></title>
            <description><![CDATA[<div class="section" id="how-to-play-minecraft-on-ubuntu">
<h1>how to play minecraft on ubuntu</h1>
<p>My daughter would like to play her favorite game, minecraft on her ubuntu box.
Here is a short memo to summarize procedure to setup environment to play minecraft on ubuntu.</p>
<div class="section" id="jvm">
<h2>JVM</h2>
<p>minecraft client is a jar file and you would better to have hotspot VM.
You can install hotpost VM as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo add-apt-repository ppa:webupd8team/java
<span class="nv">$ </span>sudo apt-get update
<span class="nv">$ </span>sudo apt-get install oracle-java7-installer
</pre></div>
</div>
</div>
<div class="section" id="search-path">
<h2>search path</h2>
<p>As with default configuration shared object libjawt.so can not be found.
You have to configure environment variable LD_LIBRARY_PATH so that libjawt.so can be searched for.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/lib/jvm/java-7-oracle/jre/lib/i386/
</pre></div>
</div>
</div>
<div class="section" id="key-input">
<h2>key input</h2>
<p>As ibus interrupts key input on minecraft and You can not input any word on minecraft.
You can avoid this problem by configuring following environment variable:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">XMODIFIERS</span><span class="o">=</span>@im<span class="o">=</span>none
</pre></div>
</div>
</div>
<div class="section" id="script">
<h2>script</h2>
<p>Here is sample script to launch minecraft.
If you would like to speak something upon start-up, please install TTS engine, festival.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/usr/bin/env bash</span>

<span class="nv">LANG</span><span class="o">=</span>C
<span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/lib/jvm/java-7-oracle/jre/lib/i386/
<span class="nv">XMODIFIERS</span><span class="o">=</span>@im<span class="o">=</span>none
<span class="nb">export </span>LANG LD_LIBRARY_PATH XMODIFIERS

<span class="nv">MINE_HOME</span><span class="o">=</span>~/minecraft
<span class="nb">cd</span> <span class="nv">$MINE_HOME</span>

<span class="nv">START_MSG</span><span class="o">=</span><span class="s2">&quot;start minecraft&quot;</span>
<span class="nb">echo</span> <span class="nv">$START_MSG</span>|festival --tts

<span class="nv">LOG</span><span class="o">=</span>play.<span class="sb">`</span>date <span class="s2">&quot;+%Y%m%d&quot;</span><span class="sb">`</span>.log

<span class="nb">echo</span> <span class="s2">&quot;START: &quot;</span> <span class="sb">`</span>date<span class="sb">`</span> &gt;&gt; <span class="nv">$LOG</span>
java -Xmx1024M -Xms512M -cp minecraft.jar net.minecraft.LauncherFrame &gt;&gt; <span class="nv">$LOG</span> 2&gt;&amp;1
<span class="nb">echo</span> <span class="s2">&quot;FINISH: &quot;</span> <span class="sb">`</span>date<span class="sb">`</span> &gt;&gt; <span class="nv">$LOG</span>
</pre></div>
</div>
</div>
<div class="section" id="register-unity-panel">
<h2>register unity panel</h2>
<p>You can launch above script directly from unity panel.</p>
<ul class="simple">
<li>desktop file</li>
</ul>
<p>Create desktop configuration file (e.g. minecraft.desktop) so that unity can evaluate how to launch application.</p>
<div class="highlight-nginx"><div class="highlight"><pre><span class="k">[Desktop</span> <span class="s">Entry]</span>
<span class="s">Type=Application</span>
<span class="s">Terminal=false</span>
<span class="s">Name=minecraft</span>
<span class="s">Icon=/PATH_TO_ICON_DIR/minecraft.ico</span>
<span class="s">Exec=/PATH_TO_SCRIPT_DIR/minecraft.sh</span>
</pre></div>
</div>
<p>Put this desktop configuration file under /usr/share/applications directory.</p>
<ul class="simple">
<li>unity panel</li>
</ul>
<p>And drag &amp; drop this desktop configuration file onto unity panel.</p>
</div>
</div>]]></description>
             <pubDate>Sun, 25 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/25/add_favicon.html</link>
            <guid>http://skyhigh71.github.io/2013/08/25/add_favicon.html</guid>
            <title><![CDATA[add favicon]]></title>
            <description><![CDATA[<div class="section" id="add-favicon">
<h1>add favicon</h1>
<p>You can configure favicon for your blog.</p>
<p>Prepare your favorite icon and place it under _static directory.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>file _static/skyhigh71.ico
_static/skyhigh71.ico: MS Windows icon resource - 1 icon
</pre></div>
</div>
<p>And point newly deployed icon file in conf.py.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Change your favicon (new favicon goes in _static directory)</span>
<span class="n">html_favicon</span> <span class="o">=</span> <span class="s">'skyhigh71.ico'</span>
</pre></div>
</div>
</div>]]></description>
             <pubDate>Sun, 25 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/24/customize_tinkerer_page_continued.html</link>
            <guid>http://skyhigh71.github.io/2013/08/24/customize_tinkerer_page_continued.html</guid>
            <title><![CDATA[customize tinkerer page continued]]></title>
            <description><![CDATA[<div class="section" id="customize-tinkerer-page-continued">
<h1>customize tinkerer page continued</h1>
<div class="section" id="language">
<h2>language</h2>
<p>LANG environment variable of my shell is configured to ja_JP.UTF-8.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$LANG</span>
ja_JP.UTF-8
</pre></div>
</div>
<p>Therefore I first thought that I have to set LANG=C upon building html so as to obtain English output.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ LANG</span><span class="o">=</span>C tinker -b
</pre></div>
</div>
<p><em>But it’s confirmed that language parameter in conf.py is valid for “en” as well.</em>
<strong>value “en” does not work. You will encounter error stating that “loading translations [en]... locale not available” sorry...</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">language</span> <span class="o">=</span> <span class="s">&quot;en&quot;</span>
</pre></div>
</div>
<p>And if you would like to configure, say, German as default language of your blog, then configure it as “de”.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">language</span> <span class="o">=</span> <span class="s">&quot;de&quot;</span>
</pre></div>
</div>
<p>But localization is not perfect, for example, date seems to be yielded based upon LANG.
So you would better to set LANG upon building html.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ LANG</span><span class="o">=</span>de_DE.utf8 tinker -b
</pre></div>
</div>
</div>
<div class="section" id="theme">
<h2>theme</h2>
<p>You can select theme among following options and set theme in theme in conf.py.</p>
<ul class="simple">
<li>flat (default)</li>
<li>modern5</li>
<li>minimal5</li>
<li>responsive</li>
<li>dark</li>
</ul>
</div>
<div class="section" id="post-per-page">
<h2>post per page</h2>
<p>Sometimes you find that default post per page (10) seems to be too long.
You can configure post per page by posts_per_page parameter.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Number of blog posts per page</span>
<span class="n">posts_per_page</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
</div>]]></description>
             <pubDate>Sat, 24 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/24/how_to_yield_core_file.html</link>
            <guid>http://skyhigh71.github.io/2013/08/24/how_to_yield_core_file.html</guid>
            <title><![CDATA[how to yield core file]]></title>
            <description><![CDATA[<div class="section" id="how-to-yield-core-file">
<h1>how to yield core file</h1>
<p>By default, gdb is given on ubuntu desktop, so you can enjoy debugging applications (if you like :-)).</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>which gdb
/usr/bin/gdb
<span class="nv">$ </span>gdb -v
GNU gdb <span class="o">(</span>GDB<span class="o">)</span> 7.5.91.20130417-cvs-ubuntu
</pre></div>
</div>
<p>But it seems that core file of application is not yielded (quite natural).
Here is a memo to describe procedure how to configure system to yield core file.</p>
<div class="section" id="ulimit">
<h2>ulimit</h2>
<p>Core file size is set to size zero.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">ulimit</span> -a
core file size          <span class="o">(</span>blocks, -c<span class="o">)</span> 0
</pre></div>
</div>
<p>You can change size to some value by ulimit command. If you would like to set permanently, then configure its value in /etc/security/limits.conf.</p>
<div class="highlight-bash"><div class="highlight"><pre>*               soft    core            unlimited
</pre></div>
</div>
<p>In this case, soft limit for default entry is set to unlimited.
For details, please refer to man page of limits.conf.</p>
</div>
<div class="section" id="core-file-pattern">
<h2>core file pattern</h2>
<p>By default, application failures will be reported back to developers via <a class="reference external" href="https://wiki.ubuntu.com/Apport">apport</a>.</p>
<p>application failure is passed to apport application via pipe as described in /proc/sys/kernel/core_pattern file.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cat /proc/sys/kernel/core_pattern
|/usr/share/apport/apport %p %s %c
</pre></div>
</div>
<p>Therefore you change output location of core file by manipulating core_pattern file.
Following is the sample to configure core files will be yielded under /var/cores directory with file name of core.&lt;executable_name&gt;.&lt;PID&gt;.&lt;timestamp&gt;.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo mkdir /var/cores
<span class="nv">$ </span>sudo chmod a+w /var/cores
<span class="nv">$ </span>sudo bash -c <span class="s2">&quot;echo /var/cores/core.%e.%p.%t &gt; /proc/sys/kernel/core_pattern&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h2>summary</h2>
<p>Now you will see core files.
Enjoy your debugging life.</p>
<p>By the way, repetition of application failure will consume disk space.
Please be careful and monitor free disk space.</p>
</div>
</div>]]></description>
             <pubDate>Sat, 24 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/23/customize_tinker_page.html</link>
            <guid>http://skyhigh71.github.io/2013/08/23/customize_tinker_page.html</guid>
            <title><![CDATA[customize tinkerer page]]></title>
            <description><![CDATA[<div class="section" id="customize-tinkerer-page">
<h1>customize tinkerer page</h1>
<div class="section" id="sidebar-items">
<h2>sidebar items</h2>
<p>You can customize items in sidebar (right side of this page) by modifying values in dictionary, html_sidebars.</p>
<p>For example, if you would like to show tags, then add “tags.html” as follows.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Add templates to be rendered in sidebar here</span>
<span class="n">html_sidebars</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;**&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;recent.html&quot;</span><span class="p">,</span> <span class="s">&quot;searchbox.html&quot;</span><span class="p">,</span> <span class="s">&quot;tags.html&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference external" href="http://tinkerer.me/doc/more_tinkering.html">tinkerer documentation</a> will help you configure customization.</p>
</div>
<div class="section" id="tweet-button">
<h2>tweet button</h2>
<p>You can add tweet button on each post.
Here is sample code needed to be added in page.html file under _templates directory.</p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Twitter button --&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/share&quot;</span> <span class="na">class=</span><span class="s">&quot;twitter-share-button&quot;</span><span class="nt">&gt;</span>Tweet<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">'http'</span><span class="o">:</span><span class="s1">'https'</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s1">'://platform.twitter.com/widgets.js'</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">'script'</span><span class="p">,</span> <span class="s1">'twitter-wjs'</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<p>This code can be created mannualy by referencing <a class="reference external" href="https://twitter.com/about/resources/buttons">twitter site</a>.</p>
</div>
<div class="section" id="google-analytics">
<h2>google analytics</h2>
<p>You can take statistics of your blog by google analytics.
oN google analytics site create Tracking ID for your blog site, which yields javascript like this.</p>
<p>Please be noted that <strong>you have to exclude &lt;script&gt; tags</strong>.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">){</span>
    <span class="nx">i</span><span class="p">[</span><span class="s1">'GoogleAnalyticsObject'</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span>
    <span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">||</span><span class="kd">function</span><span class="p">(){</span>
        <span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">||</span><span class="p">[]).</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span>
    <span class="p">},</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span>
    <span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">)</span>
<span class="p">})(</span><span class="nb">window</span><span class="p">,</span><span class="nb">document</span><span class="p">,</span><span class="s1">'script'</span><span class="p">,</span><span class="s1">'//www.google-analytics.com/analytics.js'</span><span class="p">,</span><span class="s1">'ga'</span><span class="p">);</span>

<span class="nx">ga</span><span class="p">(</span><span class="s1">'create'</span><span class="p">,</span> <span class="s1">'UA-xxxxxxxx-1'</span><span class="p">,</span> <span class="s1">'&lt;your_site&gt;'</span><span class="p">);</span>
<span class="nx">ga</span><span class="p">(</span><span class="s1">'send'</span><span class="p">,</span> <span class="s1">'pageview'</span><span class="p">);</span>
</pre></div>
</div>
<p>Save this code as google_analytics.js under _static directory.</p>
<p>And add following lines into page.html so as to incorporate this javascript.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span><span class="o">%</span> <span class="kr">extends</span> <span class="s2">&quot;!page.html&quot;</span> <span class="o">%</span><span class="p">}</span>

<span class="p">{</span><span class="o">%</span> <span class="nx">set</span> <span class="nx">script_files</span> <span class="o">=</span> <span class="nx">script_files</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;_static/google_analytics.js&quot;</span><span class="p">]</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>With above configurations applied, you will see page.html as follows.</p>
<div class="highlight-html"><div class="highlight"><pre>{% extends &quot;!page.html&quot; %}

{% set script_files = script_files + [&quot;_static/google_analytics.js&quot;] %}

{%- block body %}
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;section_head&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;timestamp_layout&quot;</span><span class="nt">&gt;</span>
      {{ timestamp(metadata.formatted_date) }}
    <span class="nt">&lt;/div&gt;</span>
    {% block buttons %}
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;buttons&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Twitter button --&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/share&quot;</span> <span class="na">class=</span><span class="s">&quot;twitter-share-button&quot;</span><span class="nt">&gt;</span>Tweet<span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">'http'</span><span class="o">:</span><span class="s1">'https'</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s1">'://platform.twitter.com/widgets.js'</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">'script'</span><span class="p">,</span> <span class="s1">'twitter-wjs'</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    {% endblock %}
    <span class="nt">&lt;/div&gt;</span>
    {{ link }}
    {{ body }}
    {{ post_meta(metadata) }}
    {{ comments }}
{% endblock %}
</pre></div>
</div>
</div>
</div>]]></description>
             <pubDate>Fri, 23 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/22/enable_sshd.html</link>
            <guid>http://skyhigh71.github.io/2013/08/22/enable_sshd.html</guid>
            <title><![CDATA[enable sshd]]></title>
            <description><![CDATA[<div class="section" id="enable-sshd">
<h1>enable sshd</h1>
<p>By default, sshd is disabled on ubuntu desktop.
Therefore you need to install &amp; enable sshd if you would like to access host remotely via ssh.</p>
<p>Here is short memo for this sake.</p>
<p>First, search for sshd package via apt-cache command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-cache search sshd
openssh-server - secure shell <span class="o">(</span>SSH<span class="o">)</span> server, <span class="k">for </span>secure access from remote machines

<span class="nv">$ </span>sudo apt-cache show openssh-server
Package: openssh-server
...
Description-en: secure shell <span class="o">(</span>SSH<span class="o">)</span> server, <span class="k">for </span>secure access from remote machines
...
This package provides the sshd server.
</pre></div>
</div>
<p>OK, openssh-server seems to be what we are looking for.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install openssh-server
</pre></div>
</div>
<p>Installation will automatically start sshd daemon.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo lsof -nPi:22
COMMAND  PID    USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
sshd    3557    root    3u  IPv4  35564      0t0  TCP *:22 <span class="o">(</span>LISTEN<span class="o">)</span>
sshd    3557    root    4u  IPv6  35566      0t0  TCP *:22 <span class="o">(</span>LISTEN<span class="o">)</span>

<span class="nv">$ </span>sudo service ssh status
ssh start/running, process 3557
</pre></div>
</div>
<p>Please be noted, sshd daemon is registered not as sshd but as ssh.</p>
<p>sshd configuration can be set in /etc/ssh/sshd_config.
In case that you would like to disable remote root access, then change parameter PermitRootLogin value from yes to no.</p>
<div class="highlight-bash"><div class="highlight"><pre>PermitRootLogin no
</pre></div>
</div>
</div>]]></description>
             <pubDate>Thu, 22 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/21/swap_caps_lock_with_ctrl.html</link>
            <guid>http://skyhigh71.github.io/2013/08/21/swap_caps_lock_with_ctrl.html</guid>
            <title><![CDATA[swap Caps Lock key with Ctrl key]]></title>
            <description><![CDATA[<div class="section" id="swap-caps-lock-key-with-ctrl-key">
<h1>swap Caps Lock key with Ctrl key</h1>
<p>I have been using Happy Hacking Keyboard (HHK) for about decade.
It’s really nice one, but it becomes lame at last and key touch is quite noisy.
So I bought a cheap English layout keyboard at amazon. (good-by HHK)</p>
<p>The problem here is that “caps lock” resides in the left-middle. <strong>This is quite inconvenient.</strong>
So I replaced “caps lock” key with “control” by configuring keyboard mapping.</p>
<p>Here is its procedure on ubuntu 13.04 (LXDE) to do so.</p>
<p>Edit keyboard file and applying argument “ctrl:swapcaps” for XKBOPTIONS option.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd</span> /etc/default
<span class="nv">$ </span>diff keyboard keyboard.org
11,12c11
&lt; <span class="c">#XKBOPTIONS=&quot;&quot;</span>
&lt; <span class="nv">XKBOPTIONS</span><span class="o">=</span><span class="s2">&quot;ctrl:swapcaps&quot;</span>
---
&gt; <span class="nv">XKBOPTIONS</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>Or you can specify “ctrl:nocaps” in case that you assign control key for both.</p>
<p>Then execute dpkg-reconfigure command so that above change will take effect.
Please be noted that rebooting system has no effect for this keyboard configuration change and it remains as they were.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo dpkg-reconfigure keyboard-configuration
</pre></div>
</div>
<p>Answer to questions given by command and at last stage you will be prompted if you save above configuration change.</p>
<p>Following <a class="reference external" href="http://www.emacswiki.org/emacs/MovingTheCtrlKey">emacs page</a> has quite comprehensive explanation for this sake, which helps must help you.</p>
<p>And following <a class="reference external" href="https://wiki.debian.org/Keyboard">debian page</a> has explanation as to keyboard configuration.</p>
<p>Please be noted, above dpkg-reconfigure command updates initrd.img-X.X.X-XX-generic file under /boot directory. Therefore in case that OS updates image file, then you have to re-execute dpkg-reconfigure command to reflect change onto image file.</p>
<p><strong>Please be noted that there seems to be more work to be done, as change of configuration is lost after rebooting system. sorry...</strong></p>
<p>It seems that following <a class="reference external" href="http://ubuntuforums.org/showthread.php?t=1793250">thread</a> shall be similar issue of this.</p>
</div>]]></description>
             <pubDate>Wed, 21 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/11/the_first_post_of_mine.html</link>
            <guid>http://skyhigh71.github.io/2013/08/11/the_first_post_of_mine.html</guid>
            <title><![CDATA[the first post of mine]]></title>
            <description><![CDATA[<div class="section" id="the-first-post-of-mine">
<h1>the first post of mine</h1>
<p>A short memo to describe procedure how to host blog on github.</p>
<div class="section" id="github-configuration">
<h2>github configuration</h2>
<p>Let’s create public key and private key.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ssh-keygen
Generating public/private rsa key pair.
...
</pre></div>
</div>
<p>They are yielded under ~/.ssh directory or under current working directory in case that you do not specify its path.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>file *
id_rsa.github:     PEM RSA private key
id_rsa.github.pub: OpenSSH RSA public key
</pre></div>
</div>
<p>Configure ssh so that newly created private key will be applied for access against github.</p>
<div class="highlight-bash"><div class="highlight"><pre>~/.ssh<span class="nv">$ </span>more config
Host github.com
    HostName      github.com
    IdentityFile  ~/.ssh/id_rsa.github
    User          git
</pre></div>
</div>
<p>Deploy public key on github.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xclip -sel clip &lt; ~/.ssh/id_rsa.github.pub
</pre></div>
</div>
<p>Now let’s make a test connection to github.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ssh -v -T git@github.com
</pre></div>
</div>
<p>Let’s install git command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get install git
</pre></div>
</div>
<p>Configure user name and e-mail address for github,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git config --global user.name &lt;USERNAME&gt;
<span class="nv">$ </span>git config --global user.email &lt;YOUR_EMAIL_ADDRESS&gt;
</pre></div>
</div>
<p>which will be reflected into .gitconfig file under home directory.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[user]</span>
        <span class="na">name</span> <span class="o">=</span> <span class="s">&lt;USERNAME&gt;</span>
<span class="s">        email = &lt;YOUR_EMAIL_ADDRESS&gt;</span>
</pre></div>
</div>
<p>Enable password cache so as to avoid repetition of password input.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git config --global credential.helper cache
<span class="nv">$ </span>git config --global credential.helper <span class="s1">'cache --timeout=3600'</span>
</pre></div>
</div>
<p>These configurations will be reflected int .gitconfig file as well.
Or you can write it by hand. (maybe)</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[credential]</span>
        <span class="na">helper</span> <span class="o">=</span> <span class="s">cache --timeout=3600</span>
</pre></div>
</div>
</div>
<div class="section" id="tinkerer-configuration">
<h2>tinkerer configuration</h2>
<p>You can install tinkerer with pip command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install tinkerer
</pre></div>
</div>
<p>This command execution will install dependent modules like sphinx if not there.
The installed version (on ubuntu 13.04) is as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tinker -v
Tinkerer version 1.2.1
</pre></div>
</div>
<p>Create local directory to host blog.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir blog
</pre></div>
</div>
<p>Execute tinker command (not tinkerer) with setup option.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tinker --setup
Your new blog is almost ready!
You just need to edit a couple of lines in conf.py
<span class="nv">$ </span>tree .
    .
    ├── _static
    ├── _templates
    │   ├── page.rst
    │   └── post.rst
    ├── conf.py
    ├── drafts
    ├── index.html
    └── master.rst
</pre></div>
</div>
<p>Configure configuration file, conf.py (same as sphinx’s one) according to your appetite.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>diff conf.py.org conf.py
11c11
&lt; <span class="nv">project</span> <span class="o">=</span> <span class="s1">'My blog'</span>
---
&gt; <span class="nv">project</span> <span class="o">=</span> <span class="s2">&quot;sakana&quot;</span>
14c14
&lt; <span class="nv">tagline</span> <span class="o">=</span> <span class="s1">'Add intelligent tagline here'</span>
---
&gt; <span class="nv">tagline</span> <span class="o">=</span> <span class="s1">'short memo by SkyHigh71'</span>
20c20
&lt; <span class="nv">author</span> <span class="o">=</span> <span class="s1">'Winston Smith'</span>
---
&gt; <span class="nv">author</span> <span class="o">=</span> <span class="s1">'SkyHigh71'</span>
23c23
&lt; <span class="nv">copyright</span> <span class="o">=</span> <span class="s1">'1984, '</span> + author
---
&gt; <span class="nv">copyright</span> <span class="o">=</span> <span class="s1">'2013-, '</span> + author
26c26
&lt; <span class="nv">website</span> <span class="o">=</span> <span class="s1">'http://127.0.0.1/blog/html/'</span>
---
&gt; <span class="nv">website</span> <span class="o">=</span> <span class="s1">'http://skyhigh71.github.com'</span>
</pre></div>
</div>
<p>That’s all you have to configure upon initial configuration on local side.
And you can modify parameter(s) later on.</p>
<p>Create a new repository named &lt;account.github.io&gt;, e.g.) SkyHigh71.github.io on github.</p>
<p>On the other hand, create local directory to host HTML files for publication.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir publish
<span class="nv">$ </span><span class="nb">cd </span>publish
<span class="nv">$ </span>git init
<span class="nv">$ </span>git remote add origin https://github.com/SkyHigh71/SkyHigh71.github.io.git
</pre></div>
</div>
<p>github URL will be reflected in config file under .git directory.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[remote &quot;origin&quot;]</span>
        <span class="na">url</span> <span class="o">=</span> <span class="s">https://github.com/SkyHigh71/SkyHigh71.github.io.git</span>
</pre></div>
</div>
<p>Disable jekyll.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>touch .nojekyll
</pre></div>
</div>
</div>
<div class="section" id="write-up-a-post-and-publish-it">
<h2>write up a post and publish it</h2>
<p>tinker command will create a RST file under YYYY/MM/DD directory:</p>
<p>Start preparation for post frst as draft.
This will create rst file under draft directory.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tinker -d <span class="s2">&quot;the First Post of mine&quot;</span>
<span class="nv">$ </span>ls drafts
the_first_post_of_mine.rst
</pre></div>
</div>
<p>After having finished editing your post and you are ready to post it, then it’s time to post.
Following command will move RST file from draft directory to YYYY/MM/DD directory and be reflected in master.rst file.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tinker -p drafts/the_first_post_of_mine.rst
</pre></div>
</div>
<p>And build it to yield html file. Or you can revert back to draft if you find something needs to be modified.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ LANG</span><span class="o">=</span>C tinker -b
</pre></div>
</div>
<p>This will create HTML files under blog/html directory.</p>
<p>Copy files to publish directory and commit it.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>publish
<span class="nv">$ </span>rsync -av ../blog/html/ .

<span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -m <span class="s2">&quot;first post&quot;</span>
</pre></div>
</div>
<p>Finally publish post to github.
By the way, please be noted that you need to select not gh-pages branch but master branch for user’s blog.
(It seems that there is a confusion about which branch to choose)</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git push origin master
</pre></div>
</div>
<p>Please be patient, as it takes several minutes until posted page will come up.
After a while, you can access your blog with URL of <a class="reference external" href="http:">http:/</a>/&lt;account&gt;.github.io/.</p>
</div>
</div>]]></description>
             <pubDate>Sun, 11 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://skyhigh71.github.io/2013/08/11/hello_world.html</link>
            <guid>http://skyhigh71.github.io/2013/08/11/hello_world.html</guid>
            <title><![CDATA[Hello World]]></title>
            <description><![CDATA[<div class="section" id="hello-world">
<h1>Hello World</h1>
<p>How are you doing?</p>
</div>]]></description>
             <pubDate>Sun, 11 Aug 2013 00:00:00 +0900</pubDate>
        </item>
    
    </channel>
</rss>